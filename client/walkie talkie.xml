<sprites app="Snap! 5.1, http://snap.berkeley.edu" version="1"><sprite name="walkie talkie" idx="2" x="-213.02134685107035" y="-129.103430786663" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="1" color="28,18,0,1" pen="tip" id="2"><costumes><list id="3"><item><costume name="walkietalkienoconnected" center-x="22" center-y="34" image="data:image/png;base64,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" id="4"/></item><item><costume name="walkietalkieconnectednowifi" center-x="22" center-y="34" image="data:image/png;base64,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" id="5"/></item><item><costume name="walkietalkieconnectedwifi" center-x="22" center-y="48" image="data:image/png;base64,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" id="6"/></item></list></costumes><sounds><list struct="atomic" id="7"></list></sounds><blocks><block-definition s="connect as %&apos;localNickname&apos;" type="command" category="control"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><block s="doIfElse"><block s="reportEquals"><block var="nickname"/><l></l></block><script><block s="doDeclareVariables"><list><l>result</l><l>temp</l></list></block><block s="doSetVar"><l>result</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>POST</l><block s="reportJoinWords"><list><block var="serverAddress"/><l>/v1/connections/</l><block var="localNickname"/></list></block><l></l><list></list></custom-block></block><block s="doIfElse"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="result"/></block><l>201</l></block><script><block s="doSwitchToCostume"><l>walkietalkieconnectednowifi</l></block><block s="doSetVar"><l>nickname</l><block var="localNickname"/></block><block s="doSetVar"><l>token</l><block s="reportListItem"><l>2</l><block var="result"/></block></block><block s="doBroadcast"><l>Successfully connected</l></block></script><script><block s="doIfElse"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="result"/></block><l>409</l></block><script><block s="doBroadcast"><l>Nickname already exist</l></block></script><script><block s="doBroadcast"><l>Internal server error</l></block></script></block></script></block></script><script><block s="doSetVar"><l>temp</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>DELETE</l><block s="reportJoinWords"><list><block var="serverAddress"/><l>/v1/connections/</l><block var="localNickname"/></list></block><l></l><list><custom-block s="key: %s value: %s"><l>Authorization</l><block var="token"/></custom-block></list></custom-block></block><block s="doSetVar"><l>nickname</l><l></l></block><block s="doSetVar"><l>token</l><l></l></block><custom-block s="connect as %txt" scope="local"><block var="localNickname"/></custom-block></script></block></script></block-definition><block-definition s="disconnect" type="command" category="control"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doIfElse"><block s="reportEquals"><block var="nickname"/><l></l></block><script><block s="doBroadcast"><l>Not connected</l></block></script><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>DELETE</l><block s="reportJoinWords"><list><block var="serverAddress"/><l>/v1/connections/</l><block var="nickname"/></list></block><l></l><list><custom-block s="key: %s value: %s"><l>Authorization</l><block var="token"/></custom-block></list></custom-block></block><block s="doSetVar"><l>nickname</l><l></l></block><block s="doSetVar"><l>token</l><l></l></block><block s="doSwitchToCostume"><l>walkietalkienoconnected</l></block><block s="doIfElse"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="result"/></block><l>204</l></block><script><block s="doBroadcast"><l>Successfully disconnected</l></block></script><script><block s="doBroadcast"><l>Internal server error</l></block></script></block></script></block></script></block-definition><block-definition s="send message: %&apos;content&apos; to %&apos;recipient&apos;" type="command" category="control"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input></inputs><script><block s="doIfElse"><block s="reportEquals"><block var="nickname"/><l></l></block><script><block s="doBroadcast"><l>Not connected</l></block></script><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>POST</l><block s="reportJoinWords"><list><block var="serverAddress"/><l>/v1/messages/</l><block var="recipient"/></list></block><block var="content"/><list><custom-block s="key: %s value: %s"><l>Authorization</l><block var="token"/></custom-block></list></custom-block></block><block s="doIfElse"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="result"/></block><l>201</l></block><script><block s="doSwitchToCostume"><l>walkietalkieconnectedwifi</l></block><block s="doWait"><l>0.1</l></block><block s="doSwitchToCostume"><l>walkietalkieconnectednowifi</l></block><block s="doWait"><l>0.1</l></block><block s="doSwitchToCostume"><l>walkietalkieconnectedwifi</l></block><block s="doWait"><l>0.1</l></block><block s="doSwitchToCostume"><l>walkietalkieconnectednowifi</l></block><block s="doBroadcast"><l>Message successfully sent</l></block></script><script><block s="doIfElse"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="result"/></block><l>404</l></block><script><block s="doBroadcast"><l>Recipient not found</l></block></script><script><block s="doBroadcast"><l>Internal server error</l></block></script></block></script></block></script></block></script></block-definition><block-definition s="receive oldest message" type="reporter" category="control"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doIf"><block s="reportNot"><block s="reportEquals"><block var="nickname"/><l></l></block></block><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>GET</l><block s="reportJoinWords"><list><block var="serverAddress"/><l>/v1/messages/</l><block var="nickname"/><l>/oldest</l></list></block><l></l><list><custom-block s="key: %s value: %s"><l>Authorization</l><block var="token"/></custom-block></list></custom-block></block><block s="doIfElse"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="result"/></block><l>200</l></block><script><block s="doReport"><block s="reportListItem"><l>2</l><block var="result"/></block></block></script><script><block s="doReport"><l></l></block></script></block></script></block></script></block-definition><block-definition s="receive latest message" type="reporter" category="control"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doIf"><block s="reportNot"><block s="reportEquals"><block var="nickname"/><l></l></block></block><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>GET</l><block s="reportJoinWords"><list><block var="serverAddress"/><l>/v1/messages/</l><block var="nickname"/><l>/latest</l></list></block><l></l><list><custom-block s="key: %s value: %s"><l>Authorization</l><block var="token"/></custom-block></list></custom-block></block><block s="doIfElse"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="result"/></block><l>200</l></block><script><block s="doReport"><block s="reportListItem"><l>2</l><block var="result"/></block></block></script><script><block s="doReport"><l></l></block></script></block></script></block></script></block-definition><block-definition s="receive all messages" type="reporter" category="control"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="listify %s"><custom-block s="%s url: %s send: %s headers: %mult%l"><l>GET</l><block s="reportJoinWords"><list><block var="serverAddress"/><l>/v1/messages/</l><block var="nickname"/></list></block><l></l><list><custom-block s="key: %s value: %s"><l>Authorization</l><block var="token"/></custom-block></list></custom-block></custom-block></block></script></block-definition><block-definition s="delete all messages" type="command" category="control"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doIfElse"><block s="reportEquals"><block var="nickname"/><l></l></block><script><block s="doBroadcast"><l>Not connected</l></block></script><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>DELETE</l><block s="reportJoinWords"><list><block var="serverAddress"/><l>/v1/messages/</l><block var="nickname"/></list></block><l></l><list><custom-block s="key: %s value: %s"><l>Authorization</l><block var="token"/></custom-block></list></custom-block></block><block s="doIf"><block s="reportNot"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="result"/></block><l>204</l></block></block><script><block s="doBroadcast"><l>Internal server error</l></block></script></block></script></block></script></block-definition><block-definition s="delete message %&apos;messageId&apos;" type="command" category="control"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><block s="doIfElse"><block s="reportEquals"><block var="nickname"/><l></l></block><script><block s="doBroadcast"><l>Not connected</l></block></script><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>DELETE</l><block s="reportJoinWords"><list><block var="serverAddress"/><l>/v1/messages/</l><block var="nickname"/><l>/</l><block var="messageId"/></list></block><l></l><list><custom-block s="key: %s value: %s"><l>Authorization</l><block var="token"/></custom-block></list></custom-block></block><block s="doIf"><block s="reportAnd"><block s="reportNot"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="result"/></block><l>204</l></block></block><block s="reportNot"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="result"/></block><l>400</l></block></block></block><script><block s="doBroadcast"><l>Internal server error</l></block></script></block></script></block></script></block-definition></blocks><variables><variable name="nickname"><l></l></variable><variable name="token"><l></l></variable><variable name="oldestMessage"><l>{  "id" : "46069e68-14c8-491a-b7b9-1d92c273a49d",  "sender" : "right",  "content" : {    "y" : "92.67783697387928",    "velocityModule" : "500",    "velocityAngle" : "230"  }}</l></variable><variable name="serverAddress"><l>http://127.0.0.1:10000</l></variable></variables><scripts><script x="20.428571428571445" y="10"><block s="receiveMessage"><l><option>any message</option></l></block><block s="doIfElse"><block s="reportEquals"><custom-block s="value at key %s of %l"><l>type</l><custom-block s="listify %s"><block s="getLastMessage"></block></custom-block></custom-block><l>create connection</l></block><script><block s="doSetVar"><l>serverAddress</l><custom-block s="value at key %s of %l"><l>serverAddress</l><custom-block s="listify %s"><block s="getLastMessage"></block></custom-block></custom-block></block><custom-block s="connect as %txt" scope="local"><custom-block s="value at key %s of %l"><l>nickname</l><custom-block s="listify %s"><block s="getLastMessage"></block></custom-block></custom-block></custom-block></script><script><block s="doIfElse"><block s="reportEquals"><custom-block s="value at key %s of %l"><l>type</l><custom-block s="listify %s"><block s="getLastMessage"></block></custom-block></custom-block><l>delete connection</l></block><script><custom-block s="disconnect" scope="local"></custom-block></script><script><block s="doIf"><block s="reportEquals"><custom-block s="value at key %s of %l"><l>type</l><custom-block s="listify %s"><block s="getLastMessage"></block></custom-block></custom-block><l>send message</l></block><script><custom-block s="send message: %txt to %txt" scope="local"><custom-block s="value at key %s of %l"><l>content</l><custom-block s="extract as string %s"><block s="getLastMessage"></block></custom-block></custom-block><custom-block s="value at key %s of %l"><l>recipient</l><custom-block s="listify %s"><block s="getLastMessage"></block></custom-block></custom-block></custom-block></script></block></script></block></script></block></script><script x="21.428571428571445" y="347.5714285714298"><block s="receiveCondition"><block s="reportNot"><block s="reportEquals"><block var="nickname"/><l></l></block></block></block><block s="doIfElse"><block s="reportNot"><block s="reportEquals"><custom-block s="receive oldest message" scope="local"></custom-block><l></l></block></block><script><block s="doSetVar"><l>oldestMessage</l><custom-block s="receive oldest message" scope="local"></custom-block></block><block s="doBroadcast"><block s="reportJoinWords"><list><l>{ "type": "remote message", "sender": "</l><custom-block s="value at key %s of %l"><l>sender</l><custom-block s="listify %s"><block var="oldestMessage"/></custom-block></custom-block><l>", "content": </l><custom-block s="value at key %s of %l"><l>content</l><custom-block s="extract as string %s"><block var="oldestMessage"/></custom-block></custom-block><l> }</l></list></block></block><custom-block s="delete message %txt" scope="local"><custom-block s="value at key %s of %l"><l>id</l><custom-block s="listify %s"><block var="oldestMessage"/></custom-block></custom-block></custom-block><block s="doSwitchToCostume"><l>walkietalkieconnectedwifi</l></block><block s="doWait"><l>0.2</l></block><block s="doSwitchToCostume"><l>walkietalkieconnectednowifi</l></block><block s="doWait"><l>0.8</l></block></script><script><block s="doWait"><l>1</l></block></script></block></script></scripts></sprite></sprites>